### 分布式存储系统特点

- 可扩展
- 低成本
- 高性能
- 易用

    分布式存储系统的难点主要在于数据，状态信息的持久化。要求在自动迁移，自动容错，并发读写的时候保证数据的一致性。

# 2.1 单机存储引擎
存储系统的基本功能：增 删 读 改

- 哈希存储引擎 
    Bitcask是一个基于哈希表结构的键值存储系统。它仅支持追加操作（Append-only)。
    数据结构：
    定期合并：
    数据恢复：
- B树存储引擎
    B树存储是一个基于B树数据结构的存储系统，支持随机读取，还支持范围扫描。
    数据结构：
    缓冲区管理：
        LRU算法，最近最少使用策略。
        LIRS算法，
- LSM树存储引擎
    将数据的修改增量保持在内存中，达到指定的大小限制后将这些修改批量写入磁盘。

# 2.3 数据模型
数据模型主要有三类：文件，关系，以及NoSQL技术流行起来的键值模型。

# 2.4 事务与并发控制



# 大数据

 - 数据类型：结构化数据，非结构化数据，半结构化数据。

# 非结构化数据存储
    Taobao File System
    FastDFS
    MongoDB之GridFS


# 分布式文件系统
    分布式文件系统的主要功能有两个：一个是存储文档，图像，视频之类的Blob字段。另一个是作为分布式表格系统的持久化层。

- Google File System系统架构
    GFS的系统节点，可分为三种角色：GFS Master（主控服务器），GFS ChunkServer（CS，数据块服务器），以及GFS客户端。
    GFS文件被划分为固定大小的数据块（Chunck）,创建时主服务器分配64位全局唯一Chunck句柄。存储在CS中。

    关键问题：
    租约机制：为了缓解主Master的压力，
    一致性模型：数据一致性问题
    追加流程：
    容错机制：